##########################################################################
# ğŸ“¡ Telegram é€šè¨Šå®˜è¨ºæ–·æ¸¬è©¦
##########################################################################
name: ğŸ“¡ TG Debug Test

on:
  workflow_dispatch: # æ”¯æ´æ‰‹å‹•è§¸ç™¼

jobs:
  comms_check:
    runs-on: ubuntu-latest
    steps:
      - name: ğŸ“¦ æª¢å‡ºç¨‹å¼ç¢¼
        uses: actions/checkout@v4

      - name: ğŸ è¨­å®š Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.12'

      - name: âš™ï¸ å®‰è£å¿…è¦ä¾è³´
        run: pip install requests

      - name: ğŸ“¡ ç™¼èµ·é€£ç·šæ¸¬è©¦
        env:
          # ğŸš€ é€™è£¡æœƒç›´æ¥æ¸¬è©¦æ‚¨åœ¨ Secrets ä¸­è¨­å®šçš„é‡‘é‘°
          TELEGRAM_BOT_TOKEN: ${{ secrets.TELEGRAM_BOT_TOKEN }}
          TELEGRAM_CHAT_ID: ${{ secrets.TELEGRAM_CHAT_ID }}
        run: |
          echo "ğŸ“¡ [æƒ…å ±éƒ¨] æ­£åœ¨ç™¼èµ·é€šè¨Šå®˜é€£ç·šæ¸¬è©¦..."
          python src/test_tg_comms.py