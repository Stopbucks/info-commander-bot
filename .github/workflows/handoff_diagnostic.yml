##########################################################################
# ğŸ“¡ S-Plan æœ€çµ‚é€šè¨Šæ¼”ç¿’ (Final Handshake Attempt)
##########################################################################
name: ğŸ“¡ S-Plan Handoff Final

on:
  workflow_dispatch:

jobs:
  diagnostic_mission:
    runs-on: ubuntu-latest
    steps:
    - name: ğŸ“¦ æª¢å‡ºç¨‹å¼ç¢¼
      uses: actions/checkout@v4

    - name: ğŸ è¨­å®š Python 3.12
      uses: actions/setup-python@v5
      with:
        python-version: '3.12'

    - name: âš™ï¸ å®‰è£ç’°å¢ƒä¾è³´
      run: pip install requests python-dotenv

    - name: ğŸ¯ ç™¼å‹•é›™è»Œé€šè¨Šæ¸¬è©¦
      env:
        # ä¸€è¡Œè¨»è§£ï¼šå°‡ GitHub Secrets å®‰å…¨æ˜ å°„è‡³ä¸­æ€§è®Šæ•¸ã€‚
        TARGET_A: ${{ secrets.RENDER_WEBHOOK_URL }}
        TOKEN_A: ${{ secrets.CRON_SECRET }}
        PYTHONUNBUFFERED: 1
      run: python src/test_handoff_call.py